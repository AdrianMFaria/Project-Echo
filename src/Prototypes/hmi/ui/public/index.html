<html>
  <head>
    <!-- Imports -->
    <meta charset="UTF-8" />
    <!-- Open Layers -->
    <link
      rel="stylesheet"
      type="text/css"
      href="./css/ol.css"
    />

    <script
      type="text/javascript"
      src="./js/ol.js"
    ></script>

    <!-- Bootstrap -->
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
		<script src="https://kit.fontawesome.com/8aa980d912.js" crossorigin="anonymous"></script>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
      crossorigin="anonymous"
    />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.2/css/bootstrap.min.css"
      integrity="sha512-03lLgNjzF8a/9Ioxp/xxsVlF1rzKjzBDeZmREIwzIF4nTBm4L9bUy+HViFfj45Sb6pwgV7Izjq0wU3qJ4+zpFw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
    />

    <!-- JavaScript Bundle with Popper -->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
      integrity="sha512-7JJuAfpfZHWvpo+Fd6W8x+b1/ECNdgfMsG+OoJOAR8dKIHrwszNnZdLQaw+nvRfX9ZHJn1ucy3q5m5/Z8smGpg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.10.2/umd/popper.min.js"
      integrity="sha512-Plh5C5l5yoh+5r5JhOOfWOkDeJ7wPy1c4nq3FzPAMoJ6mSDU6aA2mHxE+6kTQ1ZwU/XTzNvEeG19fij33V9EBw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.2/js/bootstrap.min.js"
      integrity="sha512-X6GLVKwrWY4Y4z4DC+DW9dJ8sqqZfT6I06T6TQ2ffvD8WwFLY4OekP6z9XcE8BlWp0MZ3qG1HCKiup7xg8LEBQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>

    <script src="https://unpkg.com/boxicons@2.1.4/dist/boxicons.js"></script>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-FS6uHvInSKC7Kufo3qZ2roVZ1HWTAMjzVgBV+oHYy8TD/Ptw33DTN2cEjfyxNn5f"
      crossorigin="anonymous"
    ></script>

    <!-- SplashScreen Styling -->
		<link rel="stylesheet" type="text/css" href="./css/splash_screen_style.css">

		<!-- HMI -->
		<link rel="stylesheet" href="./css/HMI_style.css" type="text/css">
		<script type="text/javascript" src="./js/audio.js"></script>
		<script type="module" src='./js/HMI.js'></script>
		<script type="text/javascript" src="./js/animation.js"></script>
		<script type="module" src='./js/HMI-utils.js'></script>

    <!-- End Imports -->
    <title>Echo | Welcome</title>
  </head>
  <body>
    <div class="screen" onclick="fadeAnim()">  
			<div class="screen-image"></div>  
			<div class="screen-overlay"></div>  
			<div class="screen-content">
			  <i class="screen-icon fa-brands fa-codepen"></i>
			  <div class="screen-user">
				<span class="name" id="name" data-value="PROJECT ECHO" onmouseenter="{textFlex()}">PROJECT ECHO</span>
				<span class="subtitle" >Click to start</span>
			  </div>
			</div>
		</div>
		
		<div id="blur"></div>

    <div class="container" style="margin-left: 0px !important">
      <!-- Row 1 with nav spanning the entire width and a fixed top-->
      <div class="row">
        <div class="col-md-12">
          <nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top shadow-sm">
            <div class="container-fluid">
              <!-- Title on the left end -->
              <a class="navbar-brand" href="#">
                <box-icon
                  name="wifi"
                  animation="tada"
                  size="lg"
                  class="logo"
                ></box-icon>

                <span class="title">Echo</span>
              </a>

              <!-- Space in the middle -->
              <div class="navbar-collapse justify-content-center"></div>

              <!-- Links on the right end -->
              <ul class="navbar-nav">
                <li class="nav-item">
                  <a class="nav-link" href="#">
                    <i class="fa fa-play"></i>
                    Simulator
                  </a>
                </li>
                <li class="nav-item">
                  <a
                    class="nav-link"
                    href="https://github.com/DataBytes-Organisation/Project-Echo/blob/main/README.md#project-echo---a-bioacoustics-classification-tool-"
                    target="_blank">
                    <i class="fa fa-info-circle"></i>
                    About Project Echo
                  </a>
                </li>
                <li class="nav-item">
                  <a
                    class="nav-link"
                    href="https://github.com/DataBytes-Organisation#hi-there--and-welcome-to-databytes-https://github.com/DataBytes-Organisation#hi-there--and-welcome-to-databytes-"
                    target="">
                    <i class="fa fa-database"></i>
                    DataBytes Organization
                  </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="#">
                    <i class="fa fa-question-circle"></i>
                    FAQs
                  </a>
                </li>
              </ul>
            </div>
          </nav>
        </div>
      </div>

      <!-- Row 2 with main contents spanning the entire width-->
      <div class="row main bg-light" style="padding: 0px !important;">
        <div class="col-md-12 col-main" style="padding: 0px !important;">
          <div id="basemap" onclick="{openNav}"></div>
          <div id="filter-menu">
            <h3 style="text-align: center; border: 1px solid #e7e7e7">
              Filter Menu
            </h3>
            <div class="dropdown">
              <button
                class="btn btn-secondary dropdown-toggle"
                type="button"
                id="dropdownMenuButton"
                data-bs-toggle="dropdown"
                aria-expanded="true"
              >
                <i class="fas fa-filter"></i>
                Filter By
              </button>
              <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                <li>
                  <div class="form-check form-switch">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      id="option1"
                      name="option1"
                    />
                    <label class="form-check-label" for="option1"
                      >Option 1</label
                    >
                  </div>
                </li>
                <li>
                  <div class="form-check form-switch">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      id="option2"
                      name="option2"
                    />
                    <label class="form-check-label" for="option2"
                      >Option 2</label
                    >
                  </div>
                </li>
                <li>
                  <div class="form-check form-switch">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      id="option3"
                      name="option3"
                    />
                    <label class="form-check-label" for="option3"
                      >Option 3</label
                    >
                  </div>
                </li>
                <li>
                  <div class="form-check form-switch">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      id="option4"
                      name="option4"
                    />
                    <label class="form-check-label" for="option4"
                      >Option 4</label
                    >
                  </div>
                </li>
                <li>
                  <div class="form-check form-switch">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      id="option5"
                      name="option5"
                    />
                    <label class="form-check-label" for="option5"
                      >Option 5</label
                    >
                  </div>
                </li>
                <li>
                  <div class="form-check form-switch">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      id="option6"
                      name="option6"
                    />
                    <label class="form-check-label" for="option6"
                      >Option 6</label
                    >
                  </div>
                </li>
                <li>
                  <div class="form-check form-switch">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      id="option7"
                      name="option7"
                    />
                    <label class="form-check-label" for="option7"
                      >Option 7</label
                    >
                  </div>
                </li>
                <li>
                  <div class="form-check form-switch">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      id="option8"
                      name="option8"
                    />
                    <label class="form-check-label" for="option8"
                      >Option 8</label
                    >
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <!-- Row 3 with footer contents spanning the entire width-->
      <!--div class="row">
        <div class="col-md-12">
          <footer>...</footer>
        </div>
      </div-->
    </div>

    <div id="menuPanel">
      <a href="javascript:void(0)" class="closebtn" onclick="{closeNav()}">&times;</a>
      <h2>Sample data with audio</h2>
      <img src="./images/sample_img.png"></img>
  
  
      <div>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</div>
      <h2>Audio</h2>
      <span><i class="fa fa-volume-up fa-2x" style="color:black;opacity:.5" onclick="{playAudio()}"></i></span>
       <audio hidden controls src="./audio/t-rex-roar.mp3"></audio>
    </div>
<script>
  function openNav() {
    console.log('menuPanel: ', document.getElementById("menuPanel"))
    document.getElementById("menuPanel").style.width = "300px";
  }

  function closeNav() {
    document.getElementById("menuPanel").style.width = "0";
  }
  let aud = 0;
  function playAudio() {
    if(aud==0){
      document.getElementsByTagName("audio")[0].play();
      aud++;
      document.querySelector("i").style.opacity="1";
    } else {
      document.querySelector("audio").pause();
      aud--;
      document.querySelector("i").style.opacity=".5";
    }				
  }
</script>

    <script type="module">
      import { initialiseHMI } from "./js/HMI.js";

      //All global state based info is stored in the hmiState
      let hmiState = {};
      window.hmiState = hmiState; 

      //Basemap config
      //pls do not change origin lat long, these are set to target wild otways region
      hmiState.originLat = -38.8078;
      hmiState.originLon = 143.54741;
      hmiState.defaultZoom = 10;
      hmiState.requestInterval = 1000;
      hmiState.layerPool = 1000;

      const microphoneLocations = [
        { lat: -38.808, lon: 143.554 },
        { lat: -38.813, lon: 143.537 },
        { lat: -38.794, lon: 143.52 },
        { lat: -38.824, lon: 143.51 },
        { lat: -38.812, lon: 143.573 },
      ];


      hmiState.microphoneLocations = microphoneLocations;
      initialiseHMI(hmiState);

      const el = (sel) => {return document.getElementById(sel);}

      const elArea  = el("basemap");
      // const elPopup = el("popup");
      const elPopup = el("menuPanel");
      //Add popup message at anywhere in map
      // const showPopup = (evt) => {
      // 	const elBtn = evt.currentTarget;
      // 	Object.assign(elPopup.style, {
      // 		left: `${evt.pageX + elBtn.scrollLeft - elBtn.offsetLeft - 320}px`,
      // 		top:  `${evt.pageY + elBtn.scrollTop - elBtn.offsetTop - 180}px`,
      // 		display: `block`,
      // 	});
      // };

      elArea.addEventListener("click", openNav);

      //Add sound listener to icon
      // let a=0;
      // document.getElementsByTagName("i")[0].addEventListener("click",function(){
      // 	if(a==0){
      // 		document.getElementsByTagName("audio")[0].play();
      // 		a++;
      // 		document.querySelector("i").style.opacity="1";
      // 	} else {
      // 		document.querySelector("audio").pause();
      // 		a--;
      // 		document.querySelector("i").style.opacity=".5";
      // 	}
      // });

    </script>
  </body>
</html>